(function(t){function e(e){for(var n,c,o=e[0],s=e[1],u=e[2],p=0,d=[];p<o.length;p++)c=o[p],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&d.push(i[c][0]),i[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var s=a[o];0!==i[s]&&(n=!1)}n&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},i={app:0},r=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=s;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},1565:function(t,e,a){},"1cf1":function(t,e,a){"use strict";a("f822")},"2dae":function(t,e,a){},4253:function(t,e,a){},"546a":function(t,e,a){t.exports=a.p+"img/5.10ed5101.jpg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-main-wrapper")],1)},r=[],c=a("5530"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-main-wrapper"},[a("v-header"),a("keep-alive",[a("router-view")],1)],1)},s=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-header"},[n("router-link",{attrs:{to:{name:"mainPage"}}},[n("img",{attrs:{src:a("9d64"),alt:"logo"}})]),n("div",{staticClass:"search-field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],attrs:{type:"text"},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),n("button",{staticClass:"search-btn",on:{click:function(e){return t.search(t.searchValue)}}},[n("i",{staticClass:"material-icons"},[t._v("search")])])])],1)},l=[],p=a("2f62"),d={name:"v-header",data:function(){return{searchValue:""}},computed:Object(c["a"])({},Object(p["c"])(["SEARCH_VALUE"])),methods:Object(c["a"])(Object(c["a"])({},Object(p["b"])(["SET_SEARCH_VALUE_TO_VUEX"])),{},{search:function(t){this.SET_SEARCH_VALUE_TO_VUEX(t),"/catalog"!==this.$route.path&&this.$router.push("/catalog"),this.searchValue=""}})},_=d,f=(a("e6ad"),a("2877")),m=Object(f["a"])(_,u,l,!1,null,null,null),v=m.exports,h={name:"v-main-wrapper",components:{vHeader:v},data:function(){return{}}},C=h,g=(a("85bd"),Object(f["a"])(C,o,s,!1,null,null,null)),E=g.exports,T={name:"app",components:{vMainWrapper:E},computed:Object(c["a"])({},Object(p["c"])(["IS_MOBILE","IS_DESKTOP"])),methods:Object(c["a"])({},Object(p["b"])(["SET_DESKTOP","SET_MOBILE"])),mounted:function(){var t=this;window.addEventListener("resize",(function(){window.innerWidth>767?t.SET_DESKTOP():t.SET_MOBILE()}))}},b=T,O=(a("034f"),Object(f["a"])(b,i,r,!1,null,null,null)),P=O.exports,S={PRODUCTS:function(t){return t.products},CART:function(t){return t.cart},IS_MOBILE:function(t){return t.isMobile},IS_DESKTOP:function(t){return t.isDesktop},SEARCH_VALUE:function(t){return t.searchValue}},R=(a("d81d"),a("a434"),{SET_PRODUCTS_TO_STATE:function(t,e){t.products=e},SET_CART:function(t,e){if(t.cart.length){var a=!1;t.cart.map((function(t){t.article===e.article&&(a=!0,t.quantity++)})),a||t.cart.push(e)}else t.cart.push(e)},REMOVE_FROM_CART:function(t,e){return t.cart.splice(e,1)},INCREMENT:function(t,e){t.cart[e].quantity++},DECREMENT:function(t,e){t.cart[e].quantity>1&&t.cart[e].quantity--},SWITCH_MOBILE:function(t){t.isMobile=!0,t.isDesktop=!1},SWITCH_DESKTOP:function(t){t.isDesktop=!0,t.isMobile=!1},SET_SEARCH_VALUE_TO_STATE:function(t,e){t.searchValue=e}}),y=a("1da1"),A=(a("96cf"),a("bc3a")),j=a.n(A),x={GET_PRODUCTS_FROM_API:function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j()("http://localhost:3000/products",{method:"GET"}).then((function(t){return a("SET_PRODUCTS_TO_STATE",t.data),t})).catch((function(t){return console.log(t),t}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()},ADD_TO_CART:function(t,e){var a=t.commit;a("SET_CART",e)},DELETE_FROM_CART:function(t,e){var a=t.commit;a("REMOVE_FROM_CART",e)},INCREMENT_CART_ITEM:function(t,e){var a=t.commit;a("INCREMENT",e)},DECREMENT_CART_ITEM:function(t,e){var a=t.commit;a("DECREMENT",e)},SET_MOBILE:function(t){var e=t.commit;e("SWITCH_MOBILE")},SET_DESKTOP:function(t){var e=t.commit;e("SWITCH_DESKTOP")},SET_SEARCH_VALUE_TO_VUEX:function(t,e){var a=t.commit;a("SET_SEARCH_VALUE_TO_STATE",e)}};n["a"].use(p["a"]);var M=new p["a"].Store({state:{products:[],cart:[],isMobile:!1,isDesktop:!0,searchValue:""},getters:S,mutations:R,actions:x}),I=M,D=a("8c4f"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-catalog"},[a("router-link",{attrs:{to:{name:"cart",params:{cart_data:t.CART}}}},[a("div",{staticClass:"v-catalog__link-to-cart"},[t._v("Cart: "+t._s(t.CART.length))])]),a("h1",[t._v("Catalog")]),a("div",{staticClass:"filters"},[a("v-select",{attrs:{options:t.categories,selected:t.selected,isExpanded:t.IS_DESKTOP},on:{select:t.sortByCategories}}),a("div",{staticClass:"range-slider"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.minPrice,expression:"minPrice",modifiers:{number:!0}}],attrs:{type:"range",min:"0",max:"10000",step:"10"},domProps:{value:t.minPrice},on:{change:t.setRangeSlider,__r:function(e){t.minPrice=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}}),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.maxPrice,expression:"maxPrice",modifiers:{number:!0}}],attrs:{type:"range",min:"0",max:"10000",step:"10"},domProps:{value:t.maxPrice},on:{change:t.setRangeSlider,__r:function(e){t.maxPrice=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"range-values"},[a("p",[t._v("Min: "+t._s(t._f("formattedPrice")(t.minPrice)))]),a("p",[t._v("Max: "+t._s(t._f("formattedPrice")(t.maxPrice)))])])],1),a("div",{staticClass:"v-catalog__list"},t._l(this.filteredProducts,(function(e){return a("v-catalog-item",{key:e.article,attrs:{product_data:e},on:{addToCart:t.addToCart}})})),1)],1)},V=[],k=a("2909"),L=(a("4de4"),a("b0c0"),a("caad"),a("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-catalog-item"},[t.isInfoPopupVisible?n("v-popup",{attrs:{popupTitle:t.product_data.name,rightBtnTitle:"Add to cart"},on:{"сlosePopup":t.onClosePopup,rightBtnAction:t.addToCart}},[n("img",{staticClass:"v-catalog-item__image",attrs:{src:a("7584")("./"+t.product_data.image),alt:t.product_data.name}}),n("div",[n("p",{staticClass:"v-catalog-item__name"},[t._v(t._s(t.product_data.name))]),n("p",{staticClass:"v-catalog-item__price"},[t._v(" Price: "+t._s(t._f("formattedPrice")(t._f("toFix")(t.product_data.price)))+" ")]),n("p",{staticClass:"v-catalog-item__category"},[t._v(t._s(t.product_data.category))])])]):t._e(),n("img",{staticClass:"v-catalog-item__image",attrs:{src:a("7584")("./"+t.product_data.image),alt:t.product_data.name}}),n("p",{staticClass:"v-catalog-item__name"},[t._v(t._s(t.product_data.name))]),n("p",{staticClass:"v-catalog-item__price"},[t._v(" Price: "+t._s(t._f("formattedPrice")(t._f("toFix")(t.product_data.price)))+" ")]),n("button",{staticClass:"v-catalog-item__show-info",on:{click:t.showPopupInfo}},[t._v(" Show info ")]),n("button",{staticClass:"v-catalog-item__add-to-cart btn",on:{click:t.addToCart}},[t._v(" add to cart ")])],1)}),U=[],B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"popup-wrapper",staticClass:"popup-wrapper"},[a("div",{staticClass:"v-popup"},[a("div",{staticClass:"v-popup__header"},[a("span",[t._v(t._s(t.popupTitle))]),a("i",{staticClass:"material-icons v-popup__close",on:{click:t.closePopup}},[t._v(" close ")])]),a("div",{staticClass:"v-popup__content"},[t._t("default")],2),a("div",{staticClass:"v-popup__footer"},[a("button",{staticClass:"close-modal",on:{click:t.closePopup}},[t._v("Close")]),a("button",{staticClass:"submit-btn",on:{click:t.rightBtnAction}},[t._v(" "+t._s(t.rightBtnTitle)+" ")])])])])},F=[],$={name:"v-popup",props:{rightBtnTitle:{type:String,default:"Ok"},popupTitle:{type:String,default:"Popup name"}},methods:{closePopup:function(){this.$emit("сlosePopup")},rightBtnAction:function(){this.$emit("rightBtnAction")}},mounted:function(){var t=this;document.addEventListener("click",(function(e){e.target===t.$refs["popup-wrapper"]&&t.closePopup()}))}},N=$,H=(a("7823"),Object(f["a"])(N,B,F,!1,null,null,null)),q=H.exports;a("b680");function K(t){return t=parseFloat(t),t.toFixed(2)+" ₴"}a("ac1f"),a("1276"),a("d3b7"),a("25f0"),a("5319"),a("a15b");function W(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),e.join(".")}var G={name:"v-catalog-item",components:{vPopup:q},props:{product_data:{type:Object,require:!0}},data:function(){return{title:"catalog-item",isInfoPopupVisible:!1}},filters:{toFix:K,formattedPrice:W},methods:{addToCart:function(){this.$emit("addToCart",this.product_data)},showPopupInfo:function(){this.isInfoPopupVisible=!0},onClosePopup:function(){this.isInfoPopupVisible=!1}},mounted:function(){this.$set(this.product_data,"quantity",1)}},X=G,J=(a("75df"),Object(f["a"])(X,L,U,!1,null,"65254470",null)),z=J.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-select"},[a("p",{staticClass:"title",on:{click:function(e){e.stopPropagation(),t.isOptionsVisible=!t.isOptionsVisible}}},[t._v(" "+t._s(t.selected)+" ")]),t.isOptionsVisible?a("div",{staticClass:"options"},t._l(t.options,(function(e){return a("p",{key:e.value,on:{click:function(a){return t.selectOption(e)}}},[t._v(" "+t._s(e.name)+" ")])})),0):t._e()])},Y=[],Z={name:"v-select",props:{options:{type:Array,default:function(){return[]}},selected:{type:String,default:""},isExpanded:{type:Boolean,default:!1}},data:function(){return{isOptionsVisible:!1}},methods:{selectOption:function(t){this.$emit("select",t),this.isOptionsVisible=!1},hideSelect:function(){this.isOptionsVisible=!1}},mounted:function(){document.addEventListener("click",this.hideSelect.bind(this),this)},beforeDestroy:function(){document.removeEventListener("click",this.hideSelect,this)}},tt=Z,et=(a("1cf1"),Object(f["a"])(tt,Q,Y,!1,null,null,null)),at=et.exports,nt={name:"v-catalog",components:{vCatalogItem:z,vSelect:at},data:function(){return{categories:[{name:"Все",value:"All"},{name:"Мужские",value:"м"},{name:"Женские",value:"ж"}],selected:"Все",sortedProducts:[],minPrice:0,maxPrice:1e4}},filters:{formattedPrice:W},computed:Object(c["a"])(Object(c["a"])({},Object(p["c"])(["PRODUCTS","CART","IS_MOBILE","IS_DESKTOP","SEARCH_VALUE"])),{},{filteredProducts:function(){return this.sortedProducts.length?this.sortedProducts:this.PRODUCTS}}),methods:Object(c["a"])(Object(c["a"])({},Object(p["b"])(["GET_PRODUCTS_FROM_API","ADD_TO_CART"])),{},{addToCart:function(t){this.ADD_TO_CART(t)},setRangeSlider:function(){if(this.minPrice>this.maxPrice){var t=this.maxPrice;this.maxPrice=this.minPrice,this.minPrice=t}this.sortByCategories()},sortByCategories:function(t){var e=this;this.sortedProducts=Object(k["a"])(this.PRODUCTS),this.sortedProducts=this.sortedProducts.filter((function(t){return t.price>=e.minPrice&&t.price<=e.maxPrice})),t&&(this.selected=t.name,this.sortedProducts=this.sortedProducts.filter((function(e){return e.category===t.name})))},sortProductsBySearchValue:function(t){this.sortedProducts=Object(k["a"])(this.PRODUCTS),this.sortedProducts=t?this.sortedProducts.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):this.PRODUCTS}}),watch:{SEARCH_VALUE:function(){this.sortProductsBySearchValue(this.SEARCH_VALUE)}},mounted:function(){var t=this;this.GET_PRODUCTS_FROM_API().then((function(e){e&&(console.log("data arrived"),t.sortByCategories(),t.sortProductsBySearchValue())}))}},it=nt,rt=(a("9802"),Object(f["a"])(it,w,V,!1,null,null,null)),ct=rt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-cart"},[a("router-link",{attrs:{to:{name:"catalog"}}},[a("div",{staticClass:"v-catalog__link-to-cart"},[t._v("Back to Catalog")])]),a("h1",[t._v(t._s(t.title))]),t.cart_data.length?t._e():a("p",[t._v("There are no products in cart...")]),t._l(t.cart_data,(function(e,n){return a("v-cart-item",{key:e.article,attrs:{cart_item_data:e},on:{deleteFromCart:function(e){return t.deleteFromCart(n)},increment:function(e){return t.increment(n)},decrement:function(e){return t.decrement(n)}}})})),a("div",{staticClass:"cart__total"},[a("p",{staticClass:"total__name"},[t._v("Total:")]),a("p",[t._v(t._s(t._f("formattedPrice")(t._f("toFix")(t.cartTotalCost))))])])],2)},st=[],ut=a("b85c"),lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart-item"},[n("img",{staticClass:"cart-item__image",attrs:{src:a("7584")("./"+t.cart_item_data.image),alt:t.cart_item_data.name}}),n("div",{staticClass:"cart-item__info"},[n("p",[t._v(t._s(t.cart_item_data.name))]),n("p",[t._v(t._s(t._f("formattedPrice")(t._f("toFix")(t.cart_item_data.price))))]),n("p",[t._v(t._s(t.cart_item_data.article))])]),n("div",{staticClass:"cart-item__quantity"},[n("p",[t._v("Qty:")]),n("span",[n("span",{staticClass:"cart-item__quantity-btn",on:{click:t.decrementItem}},[t._v("-")]),t._v(" "+t._s(t.cart_item_data.quantity)+" "),n("span",{staticClass:"cart-item__quantity-btn",on:{click:t.incrementItem}},[t._v("+")])])]),n("button",{on:{click:t.deleteFromCart}},[t._v("Delete")])])},pt=[],dt={name:"v-cart-item",props:{cart_item_data:{type:Object,default:function(){return{}}}},filters:{toFix:K,formattedPrice:W},methods:{deleteFromCart:function(){this.$emit("deleteFromCart")},decrementItem:function(){this.$emit("decrement")},incrementItem:function(){this.$emit("increment")}}},_t=dt,ft=(a("6c9b"),Object(f["a"])(_t,lt,pt,!1,null,null,null)),mt=ft.exports,vt={name:"v-cart",components:{vCartItem:mt},data:function(){return{title:"Cart"}},filters:{toFix:K,formattedPrice:W},props:{cart_data:{type:Array,default:function(){return[]}}},computed:{cartTotalCost:function(){var t=[];if(this.cart_data.length){var e,a=Object(ut["a"])(this.cart_data);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push(n.price*n.quantity)}}catch(i){a.e(i)}finally{a.f()}return t=t.reduce((function(t,e){return t+=e,t}),0),t}return 0}},methods:Object(c["a"])(Object(c["a"])({},Object(p["b"])(["DELETE_FROM_CART","INCREMENT_CART_ITEM","DECREMENT_CART_ITEM"])),{},{deleteFromCart:function(t){this.DELETE_FROM_CART(t)},increment:function(t){this.INCREMENT_CART_ITEM(t)},decrement:function(t){this.DECREMENT_CART_ITEM(t)}})},ht=vt,Ct=(a("dbe8"),Object(f["a"])(ht,ot,st,!1,null,null,null)),gt=Ct.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-main-page"},[a("h1",[t._v("Online shop")]),a("p",[a("router-link",{attrs:{to:{name:"catalog"}}},[t._v("Go to catalog")])],1)])},Tt=[],bt={name:"v-main-page"},Ot=bt,Pt=Object(f["a"])(Ot,Et,Tt,!1,null,null,null),St=Pt.exports;n["a"].use(D["a"]);var Rt=new D["a"]({routes:[{path:"/",name:"mainPage",component:St},{path:"/catalog",name:"catalog",component:ct},{path:"/cart",name:"cart",component:gt,props:!0}]}),yt=Rt;a("d1e78");n["a"].config.productionTip=!1,new n["a"]({store:I,router:yt,render:function(t){return t(P)}}).$mount("#app")},"593c":function(t,e,a){t.exports=a.p+"img/2.c0e693f1.jpg"},6800:function(t,e,a){t.exports=a.p+"img/3.50e4c188.jpg"},"6b20":function(t,e,a){},"6c9b":function(t,e,a){"use strict";a("6b20")},7584:function(t,e,a){var n={"./1.jpg":"98a8","./2.jpg":"593c","./3.jpg":"6800","./4.jpg":"ffd7","./5.jpg":"546a","./6.jpeg":"f5db","./logo.png":"9d64"};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id="7584"},"75df":function(t,e,a){"use strict";a("82ae")},7782:function(t,e,a){},7823:function(t,e,a){"use strict";a("1565")},"7c3d":function(t,e,a){},"82ae":function(t,e,a){},"85bd":function(t,e,a){"use strict";a("4253")},"85ec":function(t,e,a){},9802:function(t,e,a){"use strict";a("2dae")},"98a8":function(t,e,a){t.exports=a.p+"img/1.dc055ef9.jpg"},"9d64":function(t,e,a){t.exports=a.p+"img/logo.82b9c7a5.png"},dbe8:function(t,e,a){"use strict";a("7c3d")},e6ad:function(t,e,a){"use strict";a("7782")},f5db:function(t,e,a){t.exports=a.p+"img/6.da5781a0.jpeg"},f822:function(t,e,a){},ffd7:function(t,e,a){t.exports=a.p+"img/4.51942487.jpg"}});
//# sourceMappingURL=app.82450091.js.map